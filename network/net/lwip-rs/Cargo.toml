# Licensed under the Apache-2.0 license

[package]
name = "lwip-rs"
version.workspace = true
edition.workspace = true
description = "Rust bindings for lwIP (Lightweight IP stack)"

[lib]
name = "lwip_rs"
path = "src/lib.rs"

[dependencies]
bitflags = { workspace = true, optional = true }
spin = { workspace = true, optional = true }

[build-dependencies]
bindgen.workspace = true
cc.workspace = true

[features]
default = ["alloc", "bitflags", "ipv4", "ipv6", "dhcp", "tftp"]
alloc = []
ipv4 = []
ipv6 = []
dhcp = ["ipv4"]
dhcp6 = ["ipv6"]
tftp = ["alloc", "spin"]  # TFTP requires alloc for String/CString
baremetal = ["ipv4", "dhcp"]  # Bare-metal port (no OS, no TAP, no alloc required)
baremetal-ipv6 = ["baremetal", "ipv6", "dhcp6"]  # Bare-metal with IPv6/SLAAC + stateless DHCPv6 support
